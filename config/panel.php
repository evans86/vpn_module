<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Panel Selection Strategy
    |--------------------------------------------------------------------------
    |
    | Определяет стратегию выбора панели при создании нового пользователя:
    |
    | 'balanced' - Равномерное распределение (старая система)
    |   Выбирает панель с минимальным количеством пользователей
    |
    | 'traffic_based' - На основе нагрузки трафика сервера (новая система)
    |   Выбирает панель на сервере с наименьшим процентом использования трафика
    |
    | 'intelligent' - Интеллектуальная система (комплексный анализ)
    |   Учитывает количество пользователей, нагрузку CPU/памяти и трафик
    |
    */

    'selection_strategy' => env('PANEL_SELECTION_STRATEGY', 'traffic_based'),

    /*
    |--------------------------------------------------------------------------
    | Server Traffic Limit
    |--------------------------------------------------------------------------
    |
    | Лимит трафика для серверов в байтах (по умолчанию 32TB)
    |
    */

    'server_traffic_limit' => env('SERVER_TRAFFIC_LIMIT', 32 * 1024 * 1024 * 1024 * 1024), // 32 TB

    /*
    |--------------------------------------------------------------------------
    | Traffic Cache TTL
    |--------------------------------------------------------------------------
    |
    | Время кэширования данных о трафике серверов в секундах
    |
    */

    'traffic_cache_ttl' => env('TRAFFIC_CACHE_TTL', 1800), // 30 минут

    /*
    |--------------------------------------------------------------------------
    | Maximum Connections Per User
    |--------------------------------------------------------------------------
    |
    | Максимальное количество одновременно подключаемых устройств для одного пользователя
    |
    */

    'max_connections' => env('MAX_CONNECTIONS', 4),

    /*
    |--------------------------------------------------------------------------
    | Excluded Locations
    |--------------------------------------------------------------------------
    |
    | Список ID локаций, которые нужно исключить из выбора панели
    | Например, если определенные страны не поддерживаются некоторыми сервисами
    | (например, Gemini), их можно исключить из автоматического выбора
    |
    | Формат: массив ID локаций или строка с ID через запятую
    | Пример: [1, 2] или '1,2'
    |
    */

    'excluded_locations' => env('EXCLUDED_LOCATIONS', '') ? explode(',', env('EXCLUDED_LOCATIONS')) : [],

    /*
    |--------------------------------------------------------------------------
    | Excluded Server IPs
    |--------------------------------------------------------------------------
    |
    | Список IP-адресов серверов, которые нужно исключить из выбора панели
    | Например, если определенные IP-адреса заблокированы сервисами
    | (например, Gemini), их можно исключить из автоматического выбора
    |
    | Формат: массив IP-адресов или строка с IP через запятую
    | Пример: ['91.84.125.62', '192.168.1.1'] или '91.84.125.62,192.168.1.1'
    |
    */

    'excluded_server_ips' => env('EXCLUDED_SERVER_IPS', '') ? explode(',', env('EXCLUDED_SERVER_IPS')) : [],

    /*
    |--------------------------------------------------------------------------
    | Excluded Server IDs
    |--------------------------------------------------------------------------
    |
    | Список ID серверов, которые нужно исключить из выбора панели
    | Например, если определенные серверы имеют проблемы или заблокированы
    |
    | Формат: массив ID серверов или строка с ID через запятую
    | Пример: [1, 2, 3] или '1,2,3'
    |
    */

    'excluded_server_ids' => env('EXCLUDED_SERVER_IDS', '') ? explode(',', env('EXCLUDED_SERVER_IDS')) : [],
];


